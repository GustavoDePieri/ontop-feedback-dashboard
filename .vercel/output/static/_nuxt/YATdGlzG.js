import{r as l,h as c,E as n}from"#entry";const u=()=>{const e=l(!1),t=()=>{{const a=localStorage.getItem("ontop-dark-mode");a!==null?e.value=a==="true":e.value=window.matchMedia("(prefers-color-scheme: dark)").matches,o()}},o=()=>{{const a=document.documentElement;e.value?a.classList.add("dark"):a.classList.remove("dark")}},r=()=>{e.value=!e.value,localStorage.setItem("ontop-dark-mode",e.value.toString()),o()};c(e,()=>{o()});const s=()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",d=>{localStorage.getItem("ontop-dark-mode")===null&&(e.value=d.matches)})};return{isDarkMode:n(e),toggleDarkMode:r,initializeDarkMode:t,watchSystemTheme:s}};export{u};
